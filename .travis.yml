language: cpp
dist: trusty
sudo: required
before_install:
  - sudo apt-add-repository -y ppa:ubuntu-toolchain-r/test -y
  - sudo apt-get -qq update
  - sudo apt-get install -y gcc-5 g++-5
  - export CC=gcc-5 CXX=g++-5
  - >
    sudo apt-get install -y \
      libsdl1.2-dev \
      libsdl-image1.2-dev \
      libsdl-net1.2-dev \
      libsdl-ttf2.0-dev \
      libsdl-mixer1.2-dev \
      libglew-dev \
      lua5.2 \
      libsmpeg-dev \
      libfreetype6-dev
script: mkdir build && cd build && cmake ../src && make -j 2 && ./ta3d/src/ta3d_test
